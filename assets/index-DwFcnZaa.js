import{o as B}from"./index-B_WgeOkJ.js";import{a as I,r as t,v as c,b as N,K as P,o as L,c as O,f as E,i as n,z as T,t as k}from"./index-CBERRbij.js";import{F as x}from"./index-DkNaNI8o.js";import{c as C}from"./index-C2-I7XPk.js";const D={class:"app-container detection"},V=T({name:"Detection"}),j=Object.assign(V,{setup($){const d=I(),{proxy:u}=k();u.useDict("order_type");const l=t([]),a=t(null),m=t({queryStatus:5}),f=c(()=>[{type:"input",label:"订单编号",prop:"orderNo",placeholder:"请输入订单编号"},{label:"检测方案",placeholder:"请选择检测方案",type:"select",prop:"detectionProtocolsId",options:l.value||[]},{type:"input",label:"VIN码",prop:"vin",placeholder:"请输入VIN码"},{type:"daterange",label:"提交时间",prop:"time1",placeholder:"请选择提交时间"},{type:"daterange",label:"审核时间",prop:"time2",placeholder:"请选择审核时间"},{type:"input",label:"审核人",prop:"planName",placeholder:"请输入审核人"}]),b=c(()=>[{label:"序号",type:"index"},{prop:"orderNo",label:"订单编号"},{prop:"vin",label:"VIN码"},{prop:"planName",label:"检测方案"},{label:"车型",formatter:(r,e)=>{var s,p,i;const o=((s=e.orderBase.drivingLicenseInfo)==null?void 0:s.models)||"",g=((p=e.orderBase.drivingLicenseInfo)==null?void 0:p.brand)||"",_=((i=e.orderBase.drivingLicenseInfo)==null?void 0:i.carSeries)||"";return`${g} ${_} ${o}`}},{label:"审核人",formatter:(r,e)=>{var o;return(o=e.orderBase.orderEvaluation)==null?void 0:o.evaluationUserName}},{label:"提交人",formatter:(r,e)=>{var o;return(o=e.orderBase.orderEvaluation)==null?void 0:o.createBy}},{label:"审核时间",formatter:(r,e)=>{var o;return(o=e.orderBase.orderEvaluation)==null?void 0:o.evaluationOrderTime}},{label:"提交时间",formatter:(r,e)=>{var o;return(o=e.orderBase.orderEvaluation)==null?void 0:o.createOrderTime}}]),v=[{label:"查看详情",type:"primary",action:"viewDetail"}],h=({action:r,row:e})=>{r==="viewDetail"&&d.push({path:`/evaluationManagement/ignored-detail/view/${e.orderId}`})},y=async()=>{const{code:r,data:e}=await C();r===200&&(l.value=e.map(o=>({value:o.detectionProtocolsId,label:o.planName})))};return N(()=>{y()}),P(()=>{a.value&&a.value.getList()}),(r,e)=>(L(),O("div",D,[E(x,{ref_key:"formTableRef",ref:a,"form-config":n(f),"table-columns":n(b),operations:v,api:n(B),otherParams:m.value,showAdd:!1,onOperation:h},null,8,["form-config","table-columns","api","otherParams"])]))}});export{j as default};
