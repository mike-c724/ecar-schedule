import{F as N}from"./index-DkNaNI8o.js";import{P,_ as D,A as z,r as h,g as i,R as B,o as d,c as I,f as t,w as a,e as l,l as m,S as O,h as r,i as U,x as p,z as M,am as R}from"./index-CBERRbij.js";function E(v){return P({url:"/system//wx-user/wx-list",method:"get",params:v})}const F={class:"app-container"},S={class:"avatar-cell-container"},$={class:"user-detail"},j={class:"user-header"},q={class:"user-name"},A={class:"dialog-footer"},L=M({name:"UserManagement"}),G=Object.assign(L,{setup(v){const g=[{prop:"avatar",label:"头像",slot:"avatar"},{prop:"nickName",label:"昵称",width:"150"},{prop:"phonenumber",label:"手机号",width:"150"},{prop:"createTime",label:"创建时间",width:"180"}],w=[{label:"查看",action:"view"}],c=z({visible:!1}),s=h({userId:"",nickName:"",avatar:"",phonenumber:"",createTime:""}),k=h(null),f=async n=>{try{s.value={...n},c.visible=!0}catch(e){console.error("获取用户详情失败:",e),R.error("获取用户详情失败")}},x=({action:n,row:e})=>{n==="view"&&f(e)},y=({page:n,limit:e})=>{console.log("分页变化:",n,e)};return(n,e)=>{const _=i("el-avatar"),b=i("el-button"),u=i("el-descriptions-item"),V=i("el-descriptions"),C=i("el-dialog"),T=B("hasPermi");return d(),I("div",F,[t(N,{ref_key:"formTableRef",ref:k,"form-config":[],"table-columns":g,operations:w,api:U(E),"init-api":!0,"show-pagination":!0,"show-add":!1,onOperation:x,onPagination:y},{"table-avatar":a(({row:o})=>[l("div",S,[o.avatar?(d(),m(_,{key:0,src:o.avatar,size:40},null,8,["src"])):(d(),m(_,{key:1,size:40,icon:"User"}))])]),"table-operations":a(({row:o})=>[O((d(),m(b,{type:"primary",text:"",icon:"View",onClick:H=>f(o)},{default:a(()=>[r("查看")]),_:2},1032,["onClick"])),[[T,["miniProgram:user:query"]]])]),_:1},8,["api"]),t(C,{title:"用户详情",modelValue:c.visible,"onUpdate:modelValue":e[1]||(e[1]=o=>c.visible=o),width:"600px","append-to-body":""},{footer:a(()=>[l("div",A,[t(b,{onClick:e[0]||(e[0]=o=>c.visible=!1)},{default:a(()=>[r("关 闭")]),_:1})])]),default:a(()=>[l("div",$,[l("div",j,[t(_,{src:s.value.avatar,size:80},null,8,["src"]),l("div",q,p(s.value.nickName||"微信用户"),1)]),t(V,{column:1,border:""},{default:a(()=>[t(u,{label:"用户ID"},{default:a(()=>[r(p(s.value.userId),1)]),_:1}),t(u,{label:"手机号"},{default:a(()=>[r(p(s.value.phonenumber||"未绑定"),1)]),_:1}),t(u,{label:"注册时间"},{default:a(()=>[r(p(s.value.createTime),1)]),_:1})]),_:1})])]),_:1},8,["modelValue"])])}}}),Q=D(G,[["__scopeId","data-v-d4352850"]]);export{Q as default};
