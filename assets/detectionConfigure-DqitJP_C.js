import I from"./parts-VuKPe5Kt.js";import{g as P}from"./index-CGdEdH_o.js";import{g as k}from"./detectionCheckbox-47uvDZAE.js";import{_ as w,u as V,r as u,a0 as L,b as N,g as s,o as m,c as f,f as o,w as r,F as B,C as T,i as F,l as S,z as U,t as j,D as z}from"./index-Bz8aCySx.js";import"./popup-uQ3r1aF6.js";const E={class:"app-container configure"},M=U({name:"DetectionConfigure"}),O=Object.assign(M,{setup(R){const{proxy:v}=j(),{vehicle_structure:p}=v.useDict("vehicle_structure"),g=V(),l=u({planName:"",detectionProtocolsId:"",version:""}),c=u("0"),_=u([]),n=u(!1);L(()=>p.value,e=>{e&&e.length>0&&(c.value=e[0].value)},{once:!0});const b=e=>{i()},h=async()=>{try{n.value=!0;const{id:e}=g.params,{data:t}=await P(e);l.value=t,z(()=>{i()})}catch(e){console.error("获取方案详情失败:",e)}finally{n.value=!1}},i=async()=>{try{n.value=!0;const e={detectionProtocolsId:l.value.detectionProtocolsId,version:l.value.version,vehicleStructure:c.value},{data:t}=await k(e);_.value=t||[]}catch(e){console.error("获取零部件列表失败:",e)}finally{n.value=!1}};return N(()=>{h()}),(e,t)=>{const C=s("el-input"),d=s("el-form-item"),x=s("el-tab-pane"),y=s("el-tabs"),D=s("el-form");return m(),f("div",E,[o(D,{model:l.value,"label-width":"100px"},{default:r(()=>[o(d,{label:"方案名称"},{default:r(()=>[o(C,{style:{width:"240px"},modelValue:l.value.planName,"onUpdate:modelValue":t[0]||(t[0]=a=>l.value.planName=a),disabled:""},null,8,["modelValue"])]),_:1}),o(d,null,{default:r(()=>[o(y,{modelValue:c.value,"onUpdate:modelValue":t[1]||(t[1]=a=>c.value=a),class:"demo-tabs",onTabChange:b},{default:r(()=>[(m(!0),f(B,null,T(F(p),a=>(m(),S(x,{label:a.label,name:a.value,key:a.value},null,8,["label","name"]))),128))]),_:1},8,["modelValue"])]),_:1}),o(d,{label:"零部件名称"},{default:r(()=>[o(I,{loading:n.value,options:_.value,onSuccess:i},null,8,["loading","options"])]),_:1})]),_:1},8,["model"])])}}}),K=w(O,[["__scopeId","data-v-955db3ff"]]);export{K as default};
