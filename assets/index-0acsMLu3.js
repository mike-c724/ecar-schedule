import{F as b}from"./index-Cj0gErN3.js";import{a as f,v as _,o as g,c as v,f as B,w as N,e as x,x as I,i as l,aA as $,t as y,aB as T}from"./index-Bz8aCySx.js";const h={class:"app-container"},C={__name:"index",setup(L){const{proxy:o}=y(),c=f();o.useDict("order_type");const p=_(()=>[{label:"序号",type:"index"},{prop:"enterpriseName",label:"企业名称"},{prop:"planName",label:"检测方案"},{label:"车型",formatter:(r,e)=>{var n,s,i;const a=((n=e.orderBase.drivingLicenseInfo)==null?void 0:n.models)||"",t=((s=e.orderBase.drivingLicenseInfo)==null?void 0:s.brand)||"",u=((i=e.orderBase.drivingLicenseInfo)==null?void 0:i.carSeries)||"";return`${t} ${u} ${a}`}},{prop:"orderNo",label:"订单编号"},{prop:"vin",label:"VIN码"},{prop:"createBy",label:"提交人"},{prop:"updateTime",slot:"updateTime",label:"提交时间"}]),d=[{label:"抢单",action:"edit"}],m=async({action:r,row:e})=>{if(r==="edit"&&(console.log(e.orderId),await o.$modal.confirm(`是否确认抢占订单${e.orderNo}么?`))){const{code:t}=await T(e.orderNo);t===200&&(c.push({path:`/evaluationManagement/toBeEvaluated/${e.orderId}`}),o.$modal.msgSuccess("抢单成功"))}};return(r,e)=>(g(),v("div",h,[B(l(b),{"table-columns":p.value,operations:d,api:l($),onOperation:m},{"table-updateTime":N(({row:a})=>[x("span",null,I(a.submitTime||a.updateTime),1)]),_:1},8,["table-columns","api"])]))}};export{C as default};
