import{P as r,_ as C,r as v,a0 as f,g as p,o as u,l as N,w as _,e,f as i,h as O,c as h,i as x,aF as W,x as n,bb as B,m as T,am as D,p as U,q as j}from"./index-CBERRbij.js";function ve(t){return r({url:"/market/channel-order/list",method:"get",params:t})}function P(t){return r({url:`/market/channel-order/order-info/${t}`,method:"get"})}function fe(t){return r({url:`/market/channel-order/${t}`,method:"delete"})}function be(t){return r({url:"/market/channel-order/export",method:"get",params:t,responseType:"blob",headers:{"Content-Type":"application/json;charset=utf-8"}})}function ge(t,c){return r({url:`/market/channel-order/status/${t}/${c}`,method:"put"})}function ke(t){return r({url:`/product/channels/sub-account/list-by-detectionProtocolsId/${t}`,method:"get"})}function ye(t,c){return r({url:`/market/channel-order/dispatch/${t}/${c}`,method:"get"})}function Oe(t){return r({url:"/market/channel-order/complete",method:"post",data:t})}const l=t=>(U("data-v-bca29efa"),t=t(),j(),t),E={key:0,class:"loading-container"},M=l(()=>e("span",null,"加载中...",-1)),q={key:1,class:"order-detail"},z={class:"detail-item"},F=l(()=>e("span",{class:"label"},"订单编号",-1)),R={class:"value"},A={class:"detail-item"},G=l(()=>e("span",{class:"label"},"VIN码",-1)),H={class:"value"},J={class:"detail-item"},K=l(()=>e("span",{class:"label"},"车型",-1)),L={class:"value"},Q={class:"detail-item"},X=l(()=>e("span",{class:"label"},"预约人",-1)),Y={class:"value"},Z={class:"detail-item"},ee=l(()=>e("span",{class:"label"},"预约电话",-1)),te={class:"value"},ae={class:"detail-item"},se=l(()=>e("span",{class:"label"},"预约地址",-1)),oe={class:"value"},le={class:"detail-item"},ne=l(()=>e("span",{class:"label"},"预约日期",-1)),re={class:"value"},ie={key:0,class:"detail-item"},ce=l(()=>e("span",{class:"label"},"报告链接",-1)),de=["href"],ue={key:2,class:"empty-data"},_e={class:"dialog-footer"},pe={__name:"OrderDetailDialog",props:{visible:{type:Boolean,default:!1},orderId:{type:[String,Number],default:""},title:{type:String,default:"工单详情"}},emits:["update:visible"],setup(t,{emit:c}){const b=t,g=c,d=v(!1),m=v(!1),a=v(null);f(()=>b.visible,o=>{d.value=o});const k=()=>{g("update:visible",!1)},S=async o=>{if(o){m.value=!0,a.value=null;try{const s=await P(o);s.code===200&&s.data?a.value=s.data:D.warning("获取工单详情失败")}catch(s){console.error("获取工单详情失败:",s),D.error("获取工单详情失败")}finally{m.value=!1}}};return f(()=>[d.value,b.orderId],([o,s])=>{o&&s&&S(s)}),f(()=>d.value,o=>{g("update:visible",o)}),(o,s)=>{const y=p("el-icon"),V=p("el-empty"),I=p("el-button"),$=p("el-dialog");return u(),N($,{title:t.title,modelValue:d.value,"onUpdate:modelValue":s[0]||(s[0]=w=>d.value=w),width:"700px","append-to-body":"","destroy-on-close":"",onClose:k},{footer:_(()=>[e("div",_e,[i(I,{onClick:k},{default:_(()=>[O("关 闭")]),_:1})])]),default:_(()=>[m.value?(u(),h("div",E,[i(y,{class:"is-loading"},{default:_(()=>[i(x(W))]),_:1}),M])):a.value?(u(),h("div",q,[e("div",z,[F,e("span",R,n(a.value.channelOrderNo||"-"),1)]),e("div",A,[G,e("span",H,n(a.value.vin||"-"),1)]),e("div",J,[K,e("span",L,n(a.value.carBrand||"-"),1)]),e("div",Q,[X,e("span",Y,n(a.value.name||"-"),1)]),e("div",Z,[ee,e("span",te,n(a.value.phone||"-"),1)]),e("div",ae,[se,e("span",oe,n(a.value.address||"-"),1)]),e("div",le,[ne,e("span",re,n(a.value.appointmentTime||"-"),1)]),a.value.reportUrl?(u(),h("div",ie,[ce,e("a",{href:a.value.reportUrl,target:"_blank",class:"report-link"},[O(n(a.value.reportUrl)+" ",1),i(y,null,{default:_(()=>[i(x(B))]),_:1})],8,de)])):T("",!0)])):(u(),h("div",ue,[i(V,{description:"暂无详情数据"})]))]),_:1},8,["title","modelValue"])}}},he=C(pe,[["__scopeId","data-v-bca29efa"]]),xe=Object.freeze(Object.defineProperty({__proto__:null,default:he},Symbol.toStringTag,{value:"Module"}));export{he as O,ke as a,ye as b,ge as c,fe as d,be as e,xe as f,ve as l,Oe as s};
