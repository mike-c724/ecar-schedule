import{_ as $,a8 as j,r as v,g as n,o as c,l as k,w as d,e as t,x as h,S as z,f as l,h as A,T as E,c as p,F as g,C as y,H as R,D as H}from"./index-CBERRbij.js";import M from"./PointPic-CJyA2bj-.js";import{$ as D}from"./index-B_WgeOkJ.js";const O={class:"card-header"},U={class:"result-wrapper"},q={class:"pic-wrapper"},J={class:"pic-tip"},K={class:"tab-wrapper"},Q={class:"result-pic-wrapper"},W={class:"image-box"},X={class:"photo_name"},Y={class:"result-pic-text"},Z={__name:"PartResult",props:{type:{}},setup(e){const f=e,b=j("orderId"),u=v(""),r=v([]),_=v([]),N=()=>{D.getBearingDetectionGroup(b,f.type).then(o=>{var a;r.value=o.data.map(i=>({id:i.protocolsPartsGroupId,name:i.groupName})),(a=r.value)!=null&&a.length&&(u.value=r.value[0].id,w(r.value[0].id))})},P=o=>o.map(a=>a.photoOriginal),w=()=>{D.getBearingDetectionGroupPhoto(b,u.value,f.type).then(o=>{_.value=o.data.map(a=>({...a,partsAssessmentName:a.partsPhotoDamageList.map(i=>i.assessmentName).join(",")}))})},B=o=>`color-${o}`,T=()=>{H(()=>{w()})};return N(),(o,a)=>{const i=n("el-tag"),C=n("el-divider"),L=n("el-tab-pane"),V=n("el-tabs"),G=n("el-image"),F=n("el-tooltip"),I=n("el-card");return c(),k(I,{class:"box-card"},{header:d(()=>[t("div",O,[t("span",null,h(e.type==="covers_points"&&"覆盖件"||e.type==="interior_points"&&"内饰"||e.type==="structure_points"&&"结构件"||e.type==="electromechanical_points"&&"机电"||e.type==="wearing_parts"&&"易损件"||e.type==="chassis_modules"&&"底盘模块"||e.type==="new_energy_chassis"&&"新能源底盘"||e.type==="static_function_detection"&&"静态功能检测"||e.type==="physical_damage_detection"&&"物理损伤检测")+"评测结果",1)])]),default:d(()=>[t("div",U,[t("div",q,[z(t("div",J,[l(i,{color:"#409EFF",effect:"dark"},{default:d(()=>[A("受损")]),_:1})],512),[[E,e.type==="covers_points"&&"覆盖件"||e.type==="interior_points"&&"内饰"||e.type==="structure_points"&&"内饰"]]),l(M,{class:"pic-board",type:e.type},null,8,["type"])]),l(C,{direction:"vertical",class:"divider"}),t("div",K,[l(V,{modelValue:u.value,"onUpdate:modelValue":a[0]||(a[0]=s=>u.value=s),class:"demo-tabs",onTabClick:T},{default:d(()=>[(c(!0),p(g,null,y(r.value,(s,m)=>(c(),k(L,{label:s.name,name:s.id,key:m},null,8,["label","name"]))),128))]),_:1},8,["modelValue"]),t("div",Q,[(c(!0),p(g,null,y(_.value,(s,m)=>(c(),p("div",{class:"image__preview",key:m},[t("div",W,[l(G,{style:{width:"100%",height:"160px"},src:s.photoMiddle,"zoom-rate":1.2,"max-scale":7,"min-scale":.2,"initial-index":m,"preview-src-list":P(_.value),fit:"cover"},null,8,["src","initial-index","preview-src-list"]),l(F,{content:s.partsAssessmentName},{default:d(()=>[t("div",X,[(c(!0),p(g,null,y(s.partsPhotoDamageList,(x,S)=>(c(),p("div",{key:S,class:"assessmentName"},[t("span",{class:R([B(x.damageLevel)])},h(x.assessmentName),3)]))),128))])]),_:2},1032,["content"])]),t("div",Y,h(s.photoName),1)]))),128))])])])]),_:1})}}},se=$(Z,[["__scopeId","data-v-fe36c17c"]]);export{se as default};
