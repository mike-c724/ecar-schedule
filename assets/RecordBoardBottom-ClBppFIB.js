import W from"./PointBottom-CAarwuvc.js";import q from"./BottomConslusion-73mvOTtb.js";import{$ as D}from"./index-CXdL54YQ.js";import{_ as Q,a8 as B,r as v,v as M,g as d,o as u,c as f,e,i as R,f as i,w as n,m as b,l as N,x as _,h,H as Z,z,t as T,D as j,p as G,q as J}from"./index-Bz8aCySx.js";const X="data:image/png;base64,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",c=r=>(G("data-v-cde44bd4"),r=r(),J(),r),Y={class:"record-board"},H={class:"header"},$=c(()=>e("div",{class:"header-text"},"动力电池外观检测",-1)),ee={key:0,class:"header-right"},te=c(()=>e("div",{class:"detectionResult"},"检测标准",-1)),se=c(()=>e("div",{class:"infoItem-record-content"},[e("div",{class:"tips-wrapper"},[e("strong",{class:"tips-title"},"底盘健康度等级评定标准"),e("p",null,[e("strong",null,"S级："),h("准新车状态，不存在明显损伤。")]),e("p",null,[e("strong",null,"A级："),h("底盘覆盖件（含电池组壂体）存在轻微损伤。不影响行车安全。建议在坑洼和碎⽯路段慢行，避免底盘受损。 ")]),e("p",null,[e("strong",null,"B级："),h("底盘覆盖件（不含电池组壂体）存在不影响行车安全的损伤或存在多个不同位置的轻微损伤，存在霉斑（非水泡）。不影响行车安全。建议在坑洼和碎⽯路段慢行，避免底盘受损。 ")]),e("p",null,[e("strong",null,"C级："),h("动力电池组壂体存在中度损伤、底盘腐蚀面积过大（非水泡）、动力电池组（包含挂载点）有修复痕迹。建议检修并定期检查动力蓄电池的电压、电流、容量等参数。 ")]),e("p",null,[e("strong",null,"D级："),h("动力电池组壂体存在深度 < 5mm的重度损伤（不含涂层）。建议检修并定期检查动力蓄电池的外观是否有鼓包、漏液及动力蓄电池的电压、电流、容量等参数。必要时需要拆解检修。 ")]),e("p",null,[e("strong",null,"E级："),h("动力电池组壂体存在深度 > 5mm的重度损伤（不含涂层）、破损、鼓包、开裂、褶皱或者动力电池组功能异 常、水泡、⽕烧。建议⽴即拆解检修。 ")])])],-1)),oe={class:"body"},ae=c(()=>e("div",{class:"title"},"伤损评定",-1)),ie={class:"point"},le=c(()=>e("div",{class:"tip-item"},[e("div",{class:"tip-shape bg-2"}),e("div",{class:"color-2"},"重度")],-1)),ne=c(()=>e("div",{class:"tip-item"},[e("div",{class:"tip-shape bg-1"}),e("div",{class:"color-1"},"中度")],-1)),ce=c(()=>e("div",{class:"tip-item"},[e("div",{class:"tip-shape bg-0"}),e("div",{class:"color-0"},"轻微")],-1)),re=c(()=>e("div",{class:"tip-item"},[e("div",{class:"tip-shape bg-10"}),e("div",{class:"color-10"},"正常")],-1)),de=c(()=>e("img",{src:X,class:"arrow-p"},null,-1)),pe={key:0,class:"table-pic-wrapper"},he={class:"table-pic-name"},me={style:{"min-height":"60px",display:"flex","align-items":"center","justify-content":"center","font-size":"20px"}},ue={style:{"font-size":"20px"}},ge=z({name:"PointPic"}),Ae=Object.assign(ge,{props:{conclusion:{type:String,default:""},healthLevel:{type:String,default:""},isOnlyBottom:{type:Boolean,default:!1},type:{type:String,default:""}},setup(r,{expose:P}){const g=B("isPrinting",v(!1)),C=B("orderId"),L=v(!1),y=r,{proxy:S}=T(),{damage_level:k}=S.useDict("damage_level"),x=(s,o)=>{var a;return(a=o.find(t=>s===t.value))==null?void 0:a.label},m=v([]),E=M(()=>{if(g.value)return m.value;let s=[];return m.value.length>5?s=m.value.slice(0,5):s=[...m.value],L.value&&s.push({isViewAllRow:!0,...s[s.length-1]}),s}),V=v(0),K=s=>{window.open(`${window.location.origin}/orderAllPicture/view/${C}/${y.type}/""/""`)},U=({row:s,column:o,rowIndex:a,columnIndex:t})=>g.value?{rowspan:1,colspan:1}:s.isViewAllRow?t===0?{rowspan:1,colspan:4}:{rowspan:0,colspan:0}:{rowspan:1,colspan:1};return(()=>{D.getChassisPicRecord(C).then(s=>{console.log("底盘拉取数据",s.data);const o=s.data.chassisDamagePhotoList||[];let a=[];L.value=s.data.hasChassisPhoto;for(let t=0;t<o.length;t++){const A=[o[t].photoOriginal];o[t].additionalPhotos&&o[t].additionalPhotos.length&&A.push(...o[t].additionalPhotos);for(let p=0;p<o[t].partsPhotoDamageList.length;p++)a.push({pic:o[t].photoMiddle,orderPhotoId:o[t].orderPhotoId,picList:A,photoName:o[t].photoName,assessmentName:o[t].partsPhotoDamageList[p].assessmentName,damageLevel:o[t].partsPhotoDamageList[p].damageLevel,damageDescription:o[t].partsPhotoDamageList[p].damageDescription})}m.value=a})})(),P({prepareForExport:async()=>{await j();const s=document.querySelectorAll(".table-pic img"),o=Array.from(s).map(a=>new Promise(t=>{a.complete&&a.naturalWidth>0?t():a.onload=a.onerror=t}));await Promise.all(o),await new Promise(a=>setTimeout(a,5e3))}}),(s,o)=>{const a=d("svg-icon"),t=d("el-popconfirm"),A=d("el-space"),p=d("el-image"),O=d("ArrowRight"),F=d("el-icon"),w=d("el-table-column"),I=d("el-table");return u(),f("div",Y,[e("div",H,[$,R(g)?b("",!0):(u(),f("div",ee,[te,i(t,{width:"900",icon:"","icon-color":"",title:"检测标准",class:"standard-popconfirm"},{reference:n(()=>[i(a,{"icon-class":"query",class:"icon standard-icon"})]),actions:n(()=>[se]),_:1})]))]),e("div",oe,[r.isOnlyBottom?b("",!0):(u(),N(q,{key:0,conclusion:r.conclusion,healthLevel:r.healthLevel},null,8,["conclusion","healthLevel"])),ae,e("div",ie,[i(A,{class:"tips"},{default:n(()=>[le,ne,ce,re]),_:1}),i(W,{class:"pic-board",isRecord:!0}),de]),i(I,{data:E.value,"span-method":U,border:"",style:{width:"100%"},"header-cell-style":{fontSize:"20px",height:"60px !important",textAlign:"center"}},{default:n(()=>[i(w,{label:"伤损图片",prop:"pic","header-align":"center",align:"center"},{default:n(l=>[l.row.isViewAllRow?R(g)?b("",!0):(u(),f("div",{key:1,class:"view-all-row",onClick:K},[h(" 查看全部图片"),i(F,null,{default:n(()=>[i(O)]),_:1})])):(u(),f("div",pe,[i(p,{class:"table-pic",src:l.row.pic,"zoom-rate":1.2,"max-scale":7,"min-scale":.2,"initial-index":V.value,"preview-teleported":!0,"preview-src-list":l.row.picList,fit:"cover"},null,8,["src","initial-index","preview-src-list"]),e("div",he,_(l.row.photoName),1)]))]),_:1}),i(w,{label:"检测项目","header-align":"center",align:"center"},{default:n(l=>[e("div",me,_(l.row.assessmentName),1)]),_:1}),i(w,{label:"伤损等级","header-align":"center",align:"center"},{default:n(l=>[e("div",{class:Z(["tabel-level",`bg-${l.row.damageLevel}`])},_(x(l.row.damageLevel,R(k))),3)]),_:1}),i(w,{label:"判断标准","header-align":"center",align:"center"},{default:n(l=>[e("div",ue,_(l.row.damageDescription),1)]),_:1})]),_:1},8,["data"])])])}}}),Ce=Q(Ae,[["__scopeId","data-v-cde44bd4"]]);export{Ce as default};
