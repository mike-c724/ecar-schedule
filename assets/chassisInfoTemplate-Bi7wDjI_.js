import{a as te,S as ne}from"./swiper-vue-Cu1ZKMQW.js";import{n as v,s as oe,p as C,q as L,t as ie,u as le,v as re,w as ce,i as I,x as ue,y as de,z as pe,A as _e}from"./useOrderInfo-oTm2EOs0.js";import"./swiper-LA7WfxAj.js";import{Z as fe}from"./zoom-Ca8q2gD7.js";/* empty css             *//* empty css                   *//* empty css                   */import{_ as me,r as x,b as ve,g as c,o,c as _,i as t,f as a,w as n,F as S,C as $,l as f,e as r,x as T,m as b,H as he,at as Ce,as as ge,av as we,au as ke,aJ as ye,aK as Ie,aw as xe,t as Se,p as $e,q as Te}from"./index-Bz8aCySx.js";const be=h=>($e("data-v-dfa3e439"),h=h(),Te(),h),ze={class:"baseInfo-container chassisInfo"},Ne={key:0,class:"leftPart"},Be={class:"el-menuType"},Ee=be(()=>r("span",{slot:"title"},"全部照片",-1)),Pe={class:"contentMain"},De={class:"swiperBox"},Oe={class:"numberBox"},Re={class:"swiper-zoom-container"},Ae=["src"],Ge={class:"swiper-pagination-custom",slot:"pagination"},Le={class:"iconBox"},Me={__name:"chassisInfoTemplate",setup(h){const g=x(null),M=[fe],{proxy:w}=Se(),{detection_type:j}=w.useDict("detection_type"),m=x(!1),u=x(null),V=e=>{u.value=e},q=()=>{u.value&&u.value.slidePrev()},F=e=>{console.log("slide change to index:",e.activeIndex),ie(e.activeIndex)},W=()=>{u.value&&u.value.slideNext()},Z=()=>{g.value&&g.value.showPreview()},z=async e=>{w.$modal.loading("加载中..."),console.log("dipan col2",v.value),await le(),re.value=null,ce.value=null;let d={};e.type&&e.type=="ecoChassis"?d={orderId:I.value,type:"ecoChassis"}:d={orderId:I.value,detectionType:(e==null?void 0:e.detectionType)||null,planColumn:(e==null?void 0:e.column)||null,planRow:(e==null?void 0:e.row)||null},ue(e),await de(d)&&u.value&&u.value.slideTo(0,0),e.type=="ecoChassis"&&J(pe.value.chassisBearingDetectionPartsGroupList[0].partsList[0].assessmentGroupList[0]),w.$modal.closeLoading()},H=()=>{m.value=!m.value},J=e=>{let d={detectionType:e==null?void 0:e.detectionType,orderId:I.value,partsId:e==null?void 0:e.partsId};_e(d),console.log("新能源地盘部位选择、",e)},K=()=>{m.value&&(m.value=!1)},Q=e=>e==null?void 0:e.some(d=>d.isReject);return ve(()=>{}),(e,d)=>{var B,E,P,D,O,R,A;const k=c("Warning"),l=c("el-icon"),U=c("dict-tag"),N=c("el-menu-item"),X=c("el-menu-item-group"),Y=c("el-sub-menu"),ee=c("el-menu"),se=c("svg-icon"),ae=c("el-image");return o(),_("div",ze,[t(v)?(o(),_("div",Ne,[a(ee,{"default-active":`${(B=t(v))==null?void 0:B.row}-${(E=t(v))==null?void 0:E.column}-${(P=t(v))==null?void 0:P.detectionType}`,class:"el-menu-vertical-demo"},{default:n(()=>[(o(!0),_(S,null,$(t(oe),s=>(o(),_("div",{key:s==null?void 0:s.groupName},[s.type!="ecoChassis"?(o(),f(Y,{key:0,class:"subMenu-chassisInfo",index:s==null?void 0:s.groupName},{title:n(()=>[r("span",null," 底盘 "+T(s==null?void 0:s.groupName),1),Q(s.chassisPhotoList)?(o(),f(l,{key:0,size:"small",class:"waring-icon"},{default:n(()=>[a(k)]),_:1})):b("",!0)]),default:n(()=>[r("div",Be,[a(X,null,{default:n(()=>[(o(!0),_(S,null,$(s==null?void 0:s.chassisPhotoList,i=>(o(),f(N,{index:`${i.row}-${i.column}-${i.detectionType}`,onClick:p=>z(i)},{default:n(()=>[a(U,{options:t(j),value:i.detectionType},null,8,["options","value"]),i.isReject?(o(),f(l,{key:0,size:"small",class:"waring-icon"},{default:n(()=>[a(k)]),_:1})):b("",!0)]),_:2},1032,["index","onClick"]))),256))]),_:2},1024)])]),_:2},1032,["index"])):(o(),f(N,{key:1,index:`${s.row}-${s.column}-${s.detectionType}`,onClick:i=>z(s)},{default:n(()=>[Ee]),_:2},1032,["index","onClick"]))]))),128))]),_:1},8,["default-active"])])):b("",!0),r("div",Pe,[a(ae,{ref_key:"imageRef",ref:g,src:(O=(D=t(C))==null?void 0:D[t(L)])==null?void 0:O.photoOriginal,class:"imageDetail",onClose:K,"hide-on-click-modal":!0,"preview-src-list":[(A=(R=t(C))==null?void 0:R[t(L)])==null?void 0:A.photoOriginal],fit:"cover"},{viewer:n(({image:s})=>[r("div",{class:he(["viewerCallipers",{"grid-container":m.value}])},null,2)]),toolbar:n(({actions:s,prev:i,next:p,reset:G,activeIndex:je})=>[a(l,{onClick:y=>s("zoomOut")},{default:n(()=>[a(t(Ce))]),_:2},1032,["onClick"]),a(l,{onClick:y=>s("zoomIn",{enableTransition:!1,zoomRate:2})},{default:n(()=>[a(t(ge))]),_:2},1032,["onClick"]),a(l,{onClick:y=>s("clockwise",{rotateDeg:180,enableTransition:!1})},{default:n(()=>[a(t(we))]),_:2},1032,["onClick"]),a(l,{onClick:y=>s("anticlockwise")},{default:n(()=>[a(t(ke))]),_:2},1032,["onClick"]),a(l,{onClick:H},{default:n(()=>[a(se,{"icon-class":"caliper"})]),_:1})]),_:1},8,["src","preview-src-list"]),r("div",De,[a(t(ne),{onSwiper:V,zoom:!1,modules:M,onSlideChange:F,class:"mySwiper"},{default:n(()=>{var s,i;return[r("div",Oe,T(((s=u.value)==null?void 0:s.activeIndex)+1)+"/"+T((i=t(C))==null?void 0:i.length),1),(o(!0),_(S,null,$(t(C),(p,G)=>(o(),f(t(te),{key:G},{default:n(()=>[r("div",Re,[(o(),_("img",{src:p==null?void 0:p.photoOriginal,key:p==null?void 0:p.photoOriginal},null,8,Ae))])]),_:2},1024))),128)),r("div",Ge,[r("div",Le,[a(l,{onClick:q},{default:n(()=>[a(t(ye))]),_:1}),a(l,{onClick:W},{default:n(()=>[a(t(Ie))]),_:1}),a(l,{onClick:Z},{default:n(()=>[a(t(xe))]),_:1})])])]}),_:1})])])])}}},Qe=me(Me,[["__scopeId","data-v-dfa3e439"]]);export{Qe as default};
