import{a6 as z,g as b,_ as Je,u as Xe,a8 as Ye,v as B,r as o,a0 as Ke,a5 as Ze,R as Qe,o as H,l as ye,w as y,f as p,h as fe,i as s,S as ea,c as ne,e as T,H as ue,n as aa,a2 as Ie,aJ as la,aK as ia,x as _e,at as na,as as ua,au as sa,av as ta,m as oa,F as ha,C as ra,ac as va,B as ba,z as ca,aL as da,D as Te,t as ga}from"./index-Bz8aCySx.js";import{s as $,a as Ee,o as pa,f as Le,b as ma}from"./useOrderInfo-oTm2EOs0.js";import{g as za,a as ya,e as fa,b as Ia,c as _a}from"./toBeEvaluated-Bo3_wRio.js";import{e as Ta}from"./empty-X662_Asi.js";const Se=[{value:"BJ",label:"北京",children:[{value:"beijingshi",label:"北京市"}]},{value:"SH",label:"上海",children:[{value:"shanghaishi",label:"上海市"},{value:"chongmingqu",label:"崇明区"}]},{value:"TJ",label:"天津",children:[{value:"tianjinshi",label:"天津市"}]},{value:"CQ",label:"重庆",children:[{value:"chongqingshi",label:"重庆市"},{value:"yongchuanqu",label:"永川区"},{value:"wanzhouqu",label:"万州区"},{value:"fulingqu",label:"涪陵区"},{value:"qianjiangqu",label:"黔江区"}]},{value:"HE",label:"河北",children:[{value:"shijiazhuangshi",label:"石家庄市"},{value:"tangshanshi",label:"唐山市"},{value:"qinhuangdaoshi",label:"秦皇岛市"},{value:"handanshi",label:"邯郸市"},{value:"xingtaishi",label:"邢台市"},{value:"baodingshi",label:"保定市"},{value:"zhangjiakoushi",label:"张家口市"},{value:"chengdeshi",label:"承德市"},{value:"cangzhoushi",label:"沧州市"},{value:"langfangshi",label:"廊坊市"},{value:"cangzhoushi",label:"沧州市"},{value:"hengshuishi",label:"衡水市"},{value:"xionganxinqu",label:"雄安新区"}]},{value:"HA",label:"河南",children:[{value:"zhengzhoushi",label:"郑州市"},{value:"kaifengshi",label:"开封市"},{value:"luoyangshi",label:"洛阳市"},{value:"pingdingshanshi",label:"平顶山市"},{value:"anyangshi",label:"安阳市"},{value:"hebishi",label:"鹤壁市"},{value:"xinxiangshi",label:"新乡市"},{value:"jiaozuoshi",label:"焦作市"},{value:"puyangshi",label:"濮阳市"},{value:"xuchangshi",label:"许昌市"},{value:"taheshi",label:"漯河市"},{value:"sanmenxiashi",label:"三门峡市"},{value:"shangqiushi",label:"商丘市"},{value:"zhoukoushi",label:"周口市"},{value:"zhumadianshi",label:"驻马店市"},{value:"nanyangshi",label:"南阳市"},{value:"xinyangshi",label:"信阳市"},{value:"jiyuanshi",label:"济源市"}]},{value:"YN",label:"云南",children:[{value:"kunmingshi",label:"昆明市"},{value:"dongchuanqu",label:"东川区"},{value:"zhaotongshi",label:"昭通市"},{value:"qujingshi",label:"曲靖市"},{value:"chuxiongyizuzizhizhou",label:"楚雄彝族自治州"},{value:"yuxishi",label:"玉溪市"},{value:"honghehanizuyizuzizhizhou",label:"红河哈尼族彝族自治州"},{value:"wenshanzhuangzumiaozuzizhizhou",label:"文山壮族苗族自治州"},{value:"simaoqu",label:"思茅区"},{value:"xishuangbannadaizuzizhizhou",label:"西双版纳傣族自治州"},{value:"dalibaizuzizhizhou",label:"大理白族自治州"},{value:"baoshanshi",label:"保山市"},{value:"dehongdaizujingpozuzizhizhou",label:"德宏傣族景颇族自治州"},{value:"lijiangshi",label:"丽江市"},{value:"nujianglisuzuzizhizhou",label:"怒江傈僳族自治州"},{value:"diqingzangzuzizhizhou",label:"迪庆藏族自治州"},{value:"lincangshi",label:"临沧市"}]},{value:"LN",label:"辽宁",children:[{value:"shenyangshi",label:"沈阳市"},{value:"dalianshi",label:"大连市"},{value:"anshanshi",label:"鞍山市"},{value:"fushunshi",label:"抚顺市"},{value:"benxishi",label:"本溪市"},{value:"dandongshi",label:"丹东市"},{value:"jinzhoushi",label:"锦州市"},{value:"yingkoushi",label:"营口市"},{value:"fuxinshi",label:"阜新市"},{value:"liaoyangshi",label:"辽阳市"},{value:"panjinshi",label:"盘锦市"},{value:"tielingshi",label:"铁岭市"},{value:"zhaoyangshi",label:"朝阳市"},{value:"huludaoshi",label:"葫芦岛市"}]},{value:"HL",label:"黑龙江",children:[{value:"qiqihaershi",label:"齐齐哈尔市"},{value:"mudanjiangshi",label:"牡丹江市"},{value:"jiamusishi",label:"佳木斯市"},{value:"daqingshi",label:"大庆市"},{value:"yichunshi",label:"伊春市"},{value:"jixishi",label:"鸡西市"},{value:"hegangshi",label:"鹤岗市"},{value:"shuangyashanshi",label:"双鸭山市"},{value:"qitaiheshi",label:"七台河市"},{value:"haerbinshi",label:"哈尔滨市"},{value:"suihuashi",label:"绥化市"},{value:"heiheshi",label:"黑河市"},{value:"daxinganlingdiqu",label:"大兴安岭地区"},{value:"nongkenxitong",label:"农垦系统"}]},{value:"HN",label:"湖南",children:[{value:"changshashi",label:"长沙市"},{value:"zhuzhoushi",label:"株洲市"},{value:"xiangtanshi",label:"湘潭市"},{value:"hengyangshi",label:"衡阳市"},{value:"shaoyangshi",label:"邵阳市"},{value:"yueyangshi",label:"岳阳市"},{value:"zhangjiajieshi",label:"张家界市"},{value:"yiyangshi",label:"益阳市"},{value:"changdeshi",label:"常德市"},{value:"loudishi",label:"娄底市"},{value:"chenzhoushi",label:"郴州市"},{value:"yongzhoushi",label:"永州市"},{value:"huaihuashi",label:"怀化市"},{value:"xiangxitujiazumiaozuzizhizhou",label:"湘西土家族苗族自治州"}]},{value:"AH",label:"安徽",children:[{value:"hefeishi",label:"合肥市"},{value:"wuhushi",label:"芜湖市"},{value:"bengbushi",label:"蚌埠市"},{value:"huainanshi",label:"淮南市"},{value:"maanshanshi",label:"马鞍山市"},{value:"huaibeishi",label:"淮北市"},{value:"tonglingshi",label:"铜陵市"},{value:"anqingshi",label:"安庆市"},{value:"huangshanshi",label:"黄山市"},{value:"fuyangshi",label:"阜阳市"},{value:"suzhoushi",label:"宿州市"},{value:"chuzhoushi",label:"滁州市"},{value:"luanshi",label:"六安市"},{value:"xuanchengshi",label:"宣城市"},{value:"chaohushi",label:"巢湖市"},{value:"chizhoushi",label:"池州市"},{value:"bozhoushi",label:"亳州市"}]},{value:"SD",label:"山东",children:[{value:"jinanshi",label:"济南市"},{value:"qingdaoshi",label:"青岛市"},{value:"ziboshi",label:"淄博市"},{value:"zaozhuangshi",label:"枣庄市"},{value:"dongyingshi",label:"东营市"},{value:"yantaishi",label:"烟台市"},{value:"weifangshi",label:"潍坊市"},{value:"jiningshi",label:"济宁市"},{value:"taianshi",label:"泰安市"},{value:"weihaishi",label:"威海市"},{value:"rizhaoshi",label:"日照市"},{value:"binzhoushi",label:"滨州市"},{value:"dezhoushi",label:"德州市"},{value:"liaochengshi",label:"聊城市"},{value:"linyishi",label:"临沂市"},{value:"hezeshi",label:"菏泽市"},{value:"qingdaoshi",label:"青岛市"},{value:"weifangshi",label:"潍坊市"},{value:"yantaishi",label:"烟台市"}]},{value:"XJ",label:"新疆维吾尔自治区",children:[{value:"wulumuqishi",label:"乌鲁木齐市"},{value:"changjihuizuzizhizhou",label:"昌吉回族自治州"},{value:"shihezishi",label:"石河子市"},{value:"kuitunshi",label:"奎屯市"},{value:"boertalamengguzizhizhou",label:"博尔塔拉蒙古自治州"},{value:"yilihasakezizhizhou",label:"伊犁哈萨克自治州"},{value:"tachengdiqu",label:"塔城地区"},{value:"aleitaidiqu",label:"阿勒泰地区"},{value:"kelamayishi",label:"克拉玛依市"},{value:"tulufanshi",label:"吐鲁番市"},{value:"hamishi",label:"哈密市"},{value:"bayinguolengmengguzizhizhou",label:"巴音郭愣蒙古自治州"},{value:"akesudiqu",label:"阿克苏地区"},{value:"kezileisukeerkezizizhizhou",label:"克孜勒苏柯尔克孜自治州"},{value:"kashidiqu",label:"喀什地区"},{value:"hetiandiqu",label:"和田地区"}]},{value:"JS",label:"江苏",children:[{value:"nanjingshi",label:"南京市"},{value:"wuxishi",label:"无锡市"},{value:"xuzhoushi",label:"徐州市"},{value:"changzhoushi",label:"常州市"},{value:"suzhoushi",label:"苏州市"},{value:"nantongshi",label:"南通市"},{value:"lianyungangshi",label:"连云港市"},{value:"huaianshi",label:"淮安市"},{value:"yanchengshi",label:"盐城市"},{value:"yangzhoushi",label:"扬州市"},{value:"zhenjiangshi",label:"镇江市"},{value:"taizhoushi",label:"泰州市"},{value:"suqianshi",label:"宿迁市"},{value:"suzhoushi",label:"苏州市"}]},{value:"ZJ",label:"浙江",children:[{value:"hangzhoushi",label:"杭州市"},{value:"ningboshi",label:"宁波市"},{value:"wenzhoushi",label:"温州市"},{value:"shaoxingshi",label:"绍兴市"},{value:"huzhoushi",label:"湖州市"},{value:"jiaxingshi",label:"嘉兴市"},{value:"jinhuashi",label:"金华市"},{value:"quzhoushi",label:"衢州市"},{value:"taizhoushi",label:"台州市"},{value:"lishuishi",label:"丽水市"},{value:"zhoushanshi",label:"舟山市"}]},{value:"JX",label:"江西",children:[{value:"nanchangshi",label:"南昌市"},{value:"ganzhoushi",label:"赣州市"},{value:"yichunshi",label:"宜春市"},{value:"jianshi",label:"吉安市"},{value:"shangraoshi",label:"上饶市"},{value:"fuzhoushi",label:"抚州市"},{value:"jiujiangshi",label:"九江市"},{value:"jingdezhenshi",label:"景德镇市"},{value:"pingxiangshi",label:"萍乡市"},{value:"xinyushi",label:"新余市"},{value:"yingtanshi",label:"鹰潭市"}]},{value:"HB",label:"湖北",children:[{value:"huangshishi",label:"黄石市"},{value:"shiyanshi",label:"十堰市"},{value:"jingzhoushi",label:"荆州市"},{value:"yichangshi",label:"宜昌市"},{value:"xiangyangshi",label:"襄阳市"},{value:"ezhoushi",label:"鄂州市"},{value:"jingmenshi",label:"荆门市"},{value:"huanggangshi",label:"黄冈市"},{value:"xiaoganshi",label:"孝感市"},{value:"xianningshi",label:"咸宁市"},{value:"xiantaoshi",label:"仙桃市"},{value:"qianjiangshi",label:"潜江市"},{value:"shennongjialinqu",label:"神农架林区"},{value:"enshitujiazumiaozuzizhizhou",label:"恩施土家族苗族自治州"},{value:"tianmenshi",label:"天门市"},{value:"suizhoushi",label:"随州市"},{value:"wuhanshi",label:"武汉市"}]},{value:"GX",label:"广西壮族自治区",children:[{value:"nanningshi",label:"南宁市"},{value:"liuzhoushi",label:"柳州市"},{value:"guilinshi",label:"桂林市"},{value:"wuzhoushi",label:"梧州市"},{value:"beihaishi",label:"北海市"},{value:"chongzuoshi",label:"崇左市"},{value:"laibinshi",label:"来宾市"},{value:"guilinshi",label:"桂林市"},{value:"hezhoushi",label:"贺州市"},{value:"yulinshi",label:"玉林市"},{value:"baiseshi",label:"百色市"},{value:"hechishi",label:"河池市"},{value:"qinzhoushi",label:"钦州市"},{value:"fangchenggangshi",label:"防城港市"},{value:"guigangshi",label:"贵港市"}]},{value:"GS",label:"甘肃",children:[{value:"lanzhoushi",label:"兰州市"},{value:"jiayuguanshi",label:"嘉峪关市"},{value:"jinchangshi",label:"金昌市"},{value:"baiyinshi",label:"白银市"},{value:"tianshuishi",label:"天水市"},{value:"jiuquanshi",label:"酒泉市"},{value:"zhangyeshi",label:"张掖市"},{value:"wuweishi",label:"武威市"},{value:"dingxishi",label:"定西市"},{value:"longnanshi",label:"陇南市"},{value:"pingliangshi",label:"平凉市"},{value:"qingyangshi",label:"庆阳市"},{value:"linxiahuizuzizhizhou",label:"临夏回族自治州"},{value:"gannanzangzuzizhizhou",label:"甘南藏族自治州"}]},{value:"SX",label:"山西",children:[{value:"taiyuanshi",label:"太原市"},{value:"datongshi",label:"大同市"},{value:"yangquanshi",label:"阳泉市"},{value:"zhangzhishi",label:"长治市"},{value:"jinchengshi",label:"晋城市"},{value:"shuozhoushi",label:"朔州市"},{value:"xinzhoushi",label:"忻州市"},{value:"lüliangshi",label:"吕梁市"},{value:"jinzhongshi",label:"晋中市"},{value:"linfenshi",label:"临汾市"},{value:"yunchengshi",label:"运城市"}]},{value:"NM",label:"内蒙古自治区",children:[{value:"huhehaoteshi",label:"呼和浩特市"},{value:"baotoushi",label:"包头市"},{value:"wuhaishi",label:"乌海市"},{value:"chifengshi",label:"赤峰市"},{value:"hulunbeiershi",label:"呼伦贝尔市"},{value:"xinganmeng",label:"兴安盟"},{value:"tongliaoshi",label:"通辽市"},{value:"xilinguoleimeng",label:"锡林郭勒盟"},{value:"wulanchabushi",label:"乌兰察布市"},{value:"eerduosishi",label:"鄂尔多斯市"},{value:"bayannaoershi",label:"巴彦淖尔市"},{value:"alashanmeng",label:"阿拉善盟"}]},{value:"SN",label:"陕西",children:[{value:"tongchuanshi",label:"铜川市"},{value:"baojishi",label:"宝鸡市"},{value:"xianyangshi",label:"咸阳市"},{value:"weinanshi",label:"渭南市"},{value:"hanzhongshi",label:"汉中市"},{value:"ankangshi",label:"安康市"},{value:"shangluoshi",label:"商洛市"},{value:"yananshi",label:"延安市"},{value:"yulinshi",label:"榆林市"},{value:"xianshi",label:"西安市"},{value:"yanglingqu",label:"杨凌区"}]},{value:"JL",label:"吉林",children:[{value:"changchunshi",label:"长春市"},{value:"jilinshi",label:"吉林市"},{value:"sipingshi",label:"四平市"},{value:"liaoyuanshi",label:"辽源市"},{value:"tonghuashi",label:"通化市"},{value:"baishanshi",label:"白山市"},{value:"baichengshi",label:"白城市"},{value:"yanbianchaoxianzuzizhizhou",label:"延边朝鲜族自治州"},{value:"songyuanshi",label:"松原市"},{value:"zhangbaichaoxianzuzizhixian",label:"长白朝鲜族自治县"}]},{value:"FJ",label:"福建",children:[{value:"fuzhoushi",label:"福州市"},{value:"putianshi",label:"莆田市"},{value:"quanzhoushi",label:"泉州市"},{value:"xiamenshi",label:"厦门市"},{value:"zhangzhoushi",label:"漳州市"},{value:"longyanshi",label:"龙岩市"},{value:"sanmingshi",label:"三明市"},{value:"nanpingshi",label:"南平市"},{value:"ningdeshi",label:"宁德市"},{value:"shengzhixitong",label:"省直系统"}]},{value:"GZ",label:"贵州",children:[{value:"guiyangshi",label:"贵阳市"},{value:"liupanshuishi",label:"六盘水市"},{value:"zunyishi",label:"遵义市"},{value:"tongrenshi",label:"铜仁市"},{value:"qianxinanbuyizumiaozuzizhizhou",label:"黔西南布依族苗族自治州"},{value:"bijieshi",label:"毕节市"},{value:"anshunshi",label:"安顺市"},{value:"qiandongnanmiaozudongzuzizhizhou",label:"黔东南苗族侗族自治州"},{value:"qiannanbuyizumiaozuzizhizhou",label:"黔南布依族苗族自治州"}]},{value:"GD",label:"广东",children:[{value:"guangzhoushi",label:"广州市"},{value:"shenzhenshi",label:"深圳市"},{value:"zhuhaishi",label:"珠海市"},{value:"shantoushi",label:"汕头市"},{value:"foshanshi",label:"佛山市"},{value:"shaoguanshi",label:"韶关市"},{value:"zhanjiangshi",label:"湛江市"},{value:"zhaoqingshi",label:"肇庆市"},{value:"jiangmenshi",label:"江门市"},{value:"maomingshi",label:"茂名市"},{value:"huizhoushi",label:"惠州市"},{value:"meizhoushi",label:"梅州市"},{value:"shanweishi",label:"汕尾市"},{value:"heyuanshi",label:"河源市"},{value:"yangjiangshi",label:"阳江市"},{value:"qingyuanshi",label:"清远市"},{value:"dongguanshi",label:"东莞市"},{value:"zhongshanshi",label:"中山市"},{value:"chaozhoushi",label:"潮州市"},{value:"jieyangshi",label:"揭阳市"},{value:"yunfushi",label:"云浮市"},{value:"shundequ",label:"顺德区"},{value:"nanhaiqu",label:"南海区"},{value:"gangaojinruneidicheliang",label:"港澳进入内地车辆"}]},{value:"SC",label:"四川",children:[{value:"chengdushi",label:"成都市"},{value:"mianyangshi",label:"绵阳市"},{value:"zigongshi",label:"自贡市"},{value:"panzhihuashi",label:"攀枝花市"},{value:"luzhoushi",label:"泸州市"},{value:"deyangshi",label:"德阳市"},{value:"chengdushi",label:"成都市"},{value:"guangyuanshi",label:"广元市"},{value:"suiningshi",label:"遂宁市"},{value:"neijiangshi",label:"内江市"},{value:"leshanshi",label:"乐山市"},{value:"ziyangshi",label:"资阳市"},{value:"yibinshi",label:"宜宾市"},{value:"nanchongshi",label:"南充市"},{value:"dazhoushi",label:"达州市"},{value:"yaanshi",label:"雅安市"},{value:"abazangzuqiangzuzizhizhou",label:"阿坝藏族羌族自治州"},{value:"ganzizangzuzizhizhou",label:"甘孜藏族自治州"},{value:"liangshanyizuzizhizhou",label:"凉山彝族自治州"},{value:"guanganshi",label:"广安市"},{value:"bazhongshi",label:"巴中市"},{value:"meishanshi",label:"眉山市"}]},{value:"QH",label:"青海",children:[{value:"xiningshi",label:"西宁市"},{value:"haidongshi",label:"海东市"},{value:"haibeizangzuzizhizhou",label:"海北藏族自治州"},{value:"huangnanzangzuzizhizhou",label:"黄南藏族自治州"},{value:"hainanzangzuzizhizhou",label:"海南藏族自治州"},{value:"guoluozangzuzizhizhou",label:"果洛藏族自治州"},{value:"yushuzangzuzizhizhou",label:"玉树藏族自治州"},{value:"haiximengguzuzangzuzizhizhou",label:"海西蒙古族藏族自治州"}]},{value:"XZ",label:"西藏自治区",children:[{value:"lasashi",label:"拉萨市"},{value:"changdushi",label:"昌都市"},{value:"shannanshi",label:"山南市"},{value:"rikazeshi",label:"日喀则市"},{value:"naqushi",label:"那曲市"},{value:"alidiqu",label:"阿里地区"},{value:"linzhishi",label:"林芝市"},{value:"zhusichuanshengtianquanxiancheliangguanlisuo",label:"驻四川省天全县车辆管理所"},{value:"zhuqinghaishenggeermushicheliangguanlisuo",label:"驻青海省格尔木市车辆管理所"}]},{value:"HI",label:"海南",children:[{value:"haikoushi",label:"海口市"},{value:"sanyashi",label:"三亚市"},{value:"qionghaishi",label:"琼海市"},{value:"wuzhishanshi",label:"五指山市"},{value:"yangpukaifaqu",label:"洋浦开发区"}]},{value:"NX",label:"宁夏回族自治区",children:[{value:"yinchuanshi",label:"银川市"},{value:"shizuishanshi",label:"石嘴山市"},{value:"wuzhongshi",label:"吴忠市"},{value:"guyuanshi",label:"固原市"},{value:"zhongweishi",label:"中卫市"}]}],l={INPUT:"input",SELECT:"select",SELECT_V2:"select-v2",DATE:"date",NUMBER:"number",INPUT_WITH_APPEND:"input-with-append",UPLOAD:"upload"},xe={drivingLicenseInfo:{title:"行驶证信息",fields:{vin:{label:"VIN",type:l.INPUT_WITH_APPEND,maxlength:17,placeholder:"请输入VIN",appendButton:{text:"查询",icon:"Search",handler:"handleSearchVin"},validations:[{pattern:/^[A-HJ-NPR-Z0-9]{17}$/,message:"VIN码格式不正确"}],isStrongField:!0},licensePlate:{label:"车牌",type:l.INPUT,placeholder:"请输入车牌号",validations:[{pattern:/^[京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领][A-HJ-NP-Z][A-HJ-NP-Z0-9]{4,5}[A-HJ-NP-Z0-9挂学警港澳]$/,message:"车牌格式不正确"}],isStrongField:!0},vehicleCategory:{label:"车辆类型",type:l.SELECT,placeholder:"请选择车辆类型",dictKey:"vehicle_category",isStrongField:!0},brandId:{label:"品牌",type:l.SELECT_V2,placeholder:"请选择品牌",optionsKey:"brandList",props:{label:"brand",value:"brandId"},filterable:!0,onChange:"handleBrandChange",cascadeGroup:"carSeries"},carSeriesId:{label:"车系",type:l.SELECT_V2,placeholder:"请选择车系",optionsKey:"seriesList",props:{label:"carSeries",value:"carSeriesId"},filterable:!0,onChange:"handleSeriesChange",cascadeGroup:"carSeries"},modelsId:{label:"车型",type:l.SELECT_V2,placeholder:"请选择车型",optionsKey:"modelsList",props:{label:"models",value:"modelsId"},filterable:!0,onChange:"handleChangeSeriesExclusive",cascadeGroup:"carSeries",mutualExclusive:"otherSeries"},otherSeries:{label:"其他车系车型",type:l.INPUT,placeholder:"请输入其他车系车型",onChange:"handleChangeSeriesExclusive",mutualExclusive:"modelsId"},energyType:{label:"能源类型",type:l.SELECT,placeholder:"请选择能源类型",dictKey:"energy_type"},natureOfUse:{label:"使用性质",type:l.SELECT,placeholder:"请选择使用性质",dictKey:"nature_of_use"},dateOfRegistration:{label:"注册日期",type:l.DATE,placeholder:"选择注册日期",isStrongField:!0},annualInspectionStatus:{label:"年检状态",type:l.SELECT,placeholder:"请选择年检状态",dictKey:"annual_ianspection_status"},ownerName:{label:"车主姓名",type:l.INPUT,placeholder:"请输入车主姓名"},engineNumber:{label:"发动机号",type:l.INPUT,placeholder:"请输入发动机号"}}},registrationCertificateInfo:{title:"登记证信息",fields:{placeOfBelongProvince:{label:"归属地省份",type:l.SELECT,placeholder:"请选择归属地省份",optionsKey:"provinceList",onChange:"handleProvinceChange",cascadeGroup:"placeOfBelongProvince"},placeOfBelongRegion:{label:"归属地地区",type:l.SELECT,placeholder:"请选择归属地地区",optionsKey:"cityList",cascadeGroup:"placeOfBelongProvince"},manufactureDate:{label:"制造日期",type:l.DATE,placeholder:"选择制造日期"},inletHome:{label:"进口/出口",type:l.SELECT,placeholder:"请选择进口/出口",dictKey:"inlet_homebred"},transfersNumber:{label:"过户次数",type:l.NUMBER,placeholder:"请输入过户次数",min:0},bodyColor:{label:"车身颜色",type:l.SELECT,placeholder:"请选择车身颜色",dictKey:"body_color"},seatsNumber:{label:"座位数",type:l.NUMBER,placeholder:"请输入座位数",min:1}}},othersInfo:{title:"其他信息",fields:{motorModel:{label:"驱动电机型号",type:l.INPUT,placeholder:"请输入驱动电机型号"},ratedPower:{label:"电机额定功率",type:l.INPUT_WITH_APPEND,placeholder:"请输入额定功率",appendText:"kW",inputType:"number",min:0},batteryRatedCapacity:{label:"电池额定容量",type:l.INPUT_WITH_APPEND,placeholder:"请输入电池额定容量",appendText:"Ah",inputType:"number",min:0},batteryRatedVoltage:{label:"电池额定电压",type:l.INPUT_WITH_APPEND,placeholder:"请输入电池额定电压",appendText:"V",inputType:"number",min:0},displayMileage:{label:"仪表显示里程",type:l.INPUT_WITH_APPEND,placeholder:"请输入仪表显示里程",appendText:"km",inputType:"number",min:0},keysNumber:{label:"钥匙数量",type:l.NUMBER,placeholder:"请输入钥匙数量",min:0},detectionPlace:{label:"检测地点",type:l.INPUT,placeholder:"请输入检测地点"},compulsoryTrafficInsuranceStatus:{label:"交强险状态",type:l.SELECT,placeholder:"请选择交强险状态",dictKey:"compulsory_traffic_insurance_status"},compulsoryTrafficInsurancePeriod:{label:"交强险期限",type:l.DATE,placeholder:"选择交强险期限"},upholsteryColor:{label:"内饰颜色",type:l.SELECT,placeholder:"请选择内饰颜色",dictKey:"upholstery_color"},colorChangeStatus:{label:"是否改色",type:l.SELECT,placeholder:"请选择是否改色",dictKey:"color_change_status"},obdCode:{label:"OBD链接",type:l.INPUT,placeholder:"请输入OBD链接"},rateMileage:{label:"标称续航里程",type:l.INPUT_WITH_APPEND,placeholder:"请输入标称续航里程",appendText:"km",inputType:"number",min:0},electricType:{label:"电机类型",type:l.INPUT,placeholder:"请输入电机类型"},electricPowerTotal:{label:"电机总功率",type:l.INPUT_WITH_APPEND,placeholder:"请输入电机总功率",appendText:"kW",inputType:"number",min:0},batteryWarranty:{label:"电池质保",type:l.INPUT,placeholder:"请输入电池质保"},batteryType:{label:"电池类型",type:l.SELECT,placeholder:"请选择电池类型",dictKey:"battery_type"},batteryManufacturer:{label:"电池生产企业",type:l.INPUT,placeholder:"请输入电池生产企业"},changeBatteryDict:{label:"是否换电",type:l.SELECT,placeholder:"请选择是否换电",dictKey:"sys_yes_no"},batteryCoolingMethod:{label:"电池冷却方式",type:l.INPUT,placeholder:"请输入电池冷却方式",showWordLimit:!0,maxlength:50},nominalEnergy:{label:"标称能量",type:l.INPUT_WITH_APPEND,placeholder:"请输入标称能量",appendText:"kWh",inputType:"number",min:0},batteryConsumption:{label:"百公里耗电量",type:l.INPUT_WITH_APPEND,placeholder:"请输入百公里耗电量",appendText:"kWh/100km",inputType:"number",min:0,validations:[{validator:(P,U,w)=>{U===""||U===void 0?w():Number(U)>=30?w("百公里耗电量应小于30kWh/100km"):w()},trigger:"blur"}]},chargeTime:{label:"充电时间",type:l.INPUT,placeholder:"请输入充电时间",appendText:"h",inputType:"number",min:0},fastCharge:{label:"快充电量范围",type:l.INPUT,placeholder:"请输入快充电量范围",appendText:"%"},collisionArea:{label:"碰撞部位",type:l.SELECT,placeholder:"请选择碰撞部位",dictKey:"collision_area",multiple:!0},obdData:{label:"OBD数据",type:l.UPLOAD,uploadFileUrl:"/prod-api/order/common/up-pdf",isShowTip:!0,fileSize:10,fileType:["pdf"],limit:1},obdDataOther:{label:"OBD数据-其他",type:l.UPLOAD,uploadFileUrl:"/prod-api/order/common/up-pdf",isShowTip:!0,fileSize:10,fileType:["pdf"],limit:10}}}},Ea=["transfersNumber","seatsNumber","ratedPower","batteryRatedCapacity","batteryRatedVoltage","displayMileage","keysNumber","electricPowerTotal","nominalEnergy","batteryConsumption","chargeTime"],La=["rateMileage"],Sa=["licensePlate","vin","vehicleCategory","dateOfRegistration"],xa=[{fields:["modelsId","otherSeries"],errorMessage:"车型和其他车系车型只能填写一个",requiredMessage:"车型和其他车系车型必须填写一个"}],Pa=()=>{const P=(m,a,c,S,h,r)=>{const{dictList:d={},options:u={}}=h,g=c[S][m],f=t=>d.value[t]||[],E=()=>a.dictKey?f(a.dictKey):a.optionsKey&&u[a.optionsKey]?u[a.optionsKey]:[],v={modelValue:g,placeholder:a.placeholder,clearable:!0,disabled:a.disabled||!1,readonly:a.readonly||!1,"onUpdate:modelValue":t=>{a.onChange&&r[a.onChange]&&r[a.onChange](t,m),c[S][m]=t}};switch(a.type){case l.INPUT:return z(b("el-input"),{...v,maxlength:a.maxlength,showWordLimit:!!a.maxlength});case l.INPUT_WITH_APPEND:const t={...v,type:a.inputType||"text",min:a.min,maxlength:a.maxlength,showWordLimit:!!a.maxlength},I=()=>a.appendButton?z(b("el-button"),{icon:a.appendButton.icon,onClick:()=>{r[a.appendButton.handler]&&r[a.appendButton.handler]()}},()=>a.appendButton.text):a.appendText?a.appendText:null;return z(b("el-input"),t,{append:I});case l.NUMBER:return z(b("el-input"),{...v,type:"number",min:a.min});case l.SELECT:const R=E();return z(b("el-select"),{...v,filterable:a.filterable,multiple:a.multiple||!1},()=>R.map(F=>{var G,J;const W=((G=a.props)==null?void 0:G.label)||"label",V=((J=a.props)==null?void 0:J.value)||"value";return z(b("el-option"),{key:F[V],label:F[W],value:F[V]})}));case l.SELECT_V2:const O=E();return z(b("el-select-v2"),{...v,options:O,props:a.props,filterable:a.filterable});case l.DATE:return z(b("el-date-picker"),{...v,type:"date",valueFormat:"YYYY-MM-DD",style:"width: 100%"});case l.UPLOAD:const K={class:"upload-field",...v,style:"width: 100%",limit:a.limit||1,uploadFileUrl:a.uploadFileUrl||"",fileSize:a.fileSize||5,fileType:a.fileType||["jpg","jpeg","png","pdf"],isShowTip:!!a.isShowTip};return z(b("file-upload"),K);default:return z(b("el-input"),v)}};return{renderFormField:P,renderFormSection:({sectionKey:m,formData:a,showFormItemList:c,formContext:S,formHandlers:h,isFormItemVisible:r})=>{var E;const d=xe[m];if(!d)return null;const u=[];let g=d.title;m==="drivingLicenseInfo"&&((E=a.drivingLicenseInfo)!=null&&E.referCarBrandInfo)&&(g=[g,z("span",{class:"referCarBrandInfo"},`精友车型：${a.drivingLicenseInfo.referCarBrandInfo}`)]),u.push(z("div",{class:"title"},g)),Object.entries(d.fields).forEach(([v,t])=>{if(t.cascadeGroup==="carSeries"){if(r("carSeries")){const I={label:t.label,prop:`${m}.${v}`};u.push(z(b("el-form-item"),I,()=>P(v,t,a,m,S,h)))}}else if(t.cascadeGroup==="placeOfBelongProvince"){if(r("placeOfBelongProvince")){const I={label:t.label,prop:`${m}.${v}`};u.push(z(b("el-form-item"),I,()=>P(v,t,a,m,S,h)))}}else if(r(v)){const I={label:t.label,prop:`${m}.${v}`};u.push(z(b("el-form-item"),I,()=>P(v,t,a,m,S,h)))}});const f=Array.from(new Set(u));return z(b("el-col"),{span:24},()=>f)},generateFormRules:(m,a)=>{const c={};return m.forEach(h=>{var f,E,v;let r="",d="";if((f=a.drivingLicenseDisplayFields)!=null&&f.some(t=>t.dictValue===h.dictValue)?(r=`drivingLicenseInfo.${h.dictValue}`,d="drivingLicenseInfo"):(E=a.registrationInfoDisplayFields)!=null&&E.some(t=>t.dictValue===h.dictValue)?(r=`registrationCertificateInfo.${h.dictValue}`,d="registrationCertificateInfo"):(v=a.otherInfoDisplayFields)!=null&&v.some(t=>t.dictValue===h.dictValue)&&(r=`othersInfo.${h.dictValue}`,d="othersInfo"),!r)return;const u=xe[d],g=u==null?void 0:u.fields[h.dictValue];h.fieldType==2?c[r]=[{required:!0,message:"不能为空",trigger:"blur"}]:c[r]=[],Ea.includes(h.dictValue)&&c[r].push({pattern:/^(?:\d+(?:\.\d*)?|\.\d+)$/,message:"请输入非负数",trigger:"blur"}),La.includes(h.dictValue)&&c[r].push({pattern:/^\d+$/,message:"请输入正整数",trigger:"blur"}),g!=null&&g.validations&&Array.isArray(g.validations)&&(c[r]=c[r].concat(g.validations)),Sa.includes(h.dictValue)&&(c[r].some(I=>I.required)||c[r].push({required:!0,message:"不能为空",trigger:"blur"})),h.dictValue==="placeOfBelongProvince"&&h.fieldType===2&&(c["registrationCertificateInfo.placeOfBelongRegion"]=[{required:!0,message:"不能为空",trigger:"blur"}]),h.dictValue==="carSeries"&&(c["drivingLicenseInfo.brandId"]=[{required:!0,message:"不能为空",trigger:"blur"}],h.fieldType===2&&(c["drivingLicenseInfo.carSeriesId"]=[{required:!0,message:"不能为空",trigger:"blur"}]))}),c}}},wa={class:"edit-base-info-container"},Na={key:0,class:"image-col"},Da={class:"contentMain"},qa={class:"imageContainer"},ja=["src"],Ba={class:"image-custom-navigation"},Ua={class:"numberBox"},Oa={class:"image-pagination-custom"},Ca={class:"iconBox"},Ra={class:"form-col"},Fa=ca({name:"EditBaseInfoDrawer"}),Va=Object.assign(Fa,{props:{visible:{type:Boolean,default:!1}},emits:["update:visible"],setup(P,{emit:U}){const w=Xe(),m=Ye("dictList"),{proxy:a}=ga(),{renderFormSection:c,generateFormRules:S}=Pa(),h=P,r=U,d=B({get:()=>h.visible,set:e=>r("update:visible",e)}),u=o({drivingLicenseInfo:{},registrationCertificateInfo:{},othersInfo:{}}),g=o(null),f=o([]),E=o({}),v=o(!1),t=o([]),I=o([]),R=o([]),O=o([]),K=B(()=>({dictList:m,options:{brandList:I.value,seriesList:R.value,modelsList:O.value,provinceList:J,cityList:se.value}})),F={handleSearchVin:De,handleBrandChange:W,handleSeriesChange:V,handleChangeSeriesExclusive:$e,handleProvinceChange:te};async function W(e,i){if(e!==u.value.drivingLicenseInfo.brandId&&(u.value.drivingLicenseInfo.carSeriesId="",u.value.drivingLicenseInfo.modelsId="",R.value=[],O.value=[]),e){const n=await za(e);R.value=n.data||[]}}async function V(e,i){var n;if(e!==u.value.drivingLicenseInfo.carSeriesId&&(u.value.drivingLicenseInfo.modelsId="",O.value=[]),e){const _=await ya(e);O.value=(((n=_.data)==null?void 0:n.modelsList)||[]).flatMap(x=>x.models||[])}}async function G(){const e=await _a();I.value=(e.data||[]).flatMap(i=>i.brands||[]),u.value.drivingLicenseInfo.brandId&&await W(u.value.drivingLicenseInfo.brandId),u.value.drivingLicenseInfo.carSeriesId&&await V(u.value.drivingLicenseInfo.carSeriesId)}const J=Se.map(e=>({value:e.label,label:e.label})),se=o([]);async function te(e){const i=Se.find(n=>n.label===e);se.value=(i?i.children:[]).map(n=>({value:n.label,label:n.label})),u.value.registrationCertificateInfo.placeOfBelongRegion=""}function N(e){return e?f.value.some(i=>i.dictValue===e):!1}const oe=()=>{d.value=!1;try{g.value&&g.value.resetFields()}catch(e){console.warn("表单重置时出错:",e)}ie(),q.value=!1},he=()=>{const e=da.cloneDeep(pa.value);Object.keys(u.value).forEach(i=>{var n;u.value[i]=e[i]||{},i==="othersInfo"&&Array.isArray((n=e[i])==null?void 0:n.obdDataOther)&&(u.value[i].obdDataOther=e[i].obdDataOther.join(","))}),Object.keys(u.value).forEach(i=>{Object.keys(u.value[i]).forEach(n=>{u.value[i][n]==="--"&&(u.value[i][n]="")})}),e&&f.value.length===0&&Pe(e),Te(()=>{N("placeOfBelongProvince")&&te(u.value.registrationCertificateInfo.placeOfBelongProvince),N("carSeries")&&G()})},Pe=e=>{var _,x,j;v.value=!0;let i=[],n=[];(_=e.drivingLicenseDisplayFields)!=null&&_.length&&(i.push("drivingLicenseInfo"),n=n.concat(e.drivingLicenseDisplayFields)),(x=e.registrationInfoDisplayFields)!=null&&x.length&&(i.push("registrationCertificateInfo"),n=n.concat(e.registrationInfoDisplayFields)),(j=e.otherInfoDisplayFields)!=null&&j.length&&(i.push("othersInfo"),n=n.concat(e.otherInfoDisplayFields)),f.value=n,t.value=i,E.value=S(f.value,e),Te(()=>{v.value=!1})},we=()=>new Promise((e,i)=>{for(const n of xa){const[_,x]=n.fields,j=u.value.drivingLicenseInfo[_],M=u.value.drivingLicenseInfo[x];if(N("carSeries")&&N("otherSeries")&&j&&M){a.$message.error(n.errorMessage),i(!1);return}if(N("carSeries")&&N("otherSeries")&&!j&&!M){a.$message.error(n.requiredMessage),i(!1);return}}e(!0)}),Ne=async()=>{if(g.value){a.$modal.loading("保存中···");try{await g.value.validate(),await we();const e=w.params.id,i={};Object.keys(u.value).forEach(n=>{i[n]={...u.value[n]},n==="othersInfo"&&typeof u.value[n].obdDataOther=="string"&&(i[n].obdDataOther=u.value[n].obdDataOther.split(",").map(_=>_.trim()).filter(_=>_))}),await fa(e,i),await Le(e),d.value=!1,a.$message.success("保存成功")}catch(e){console.log("表单验证失败：",e)}finally{a.$modal.closeLoading()}}};async function De(){if(!u.value.drivingLicenseInfo.vin){a.$message.error("请输入VIN");return}a.$modal.loading("查询中···");try{const e=w.params.id;await Ia(e,u.value.drivingLicenseInfo.vin),await Le(e),he()}catch(e){console.log("查询VIN 车型失败：",e)}finally{a.$modal.closeLoading()}}o(null);const qe=o(null),je=o(null),k=B(()=>{var e,i;return((i=(e=$.value)==null?void 0:e.orderBasePhoto)==null?void 0:i.length)>0});o(!1);const D=o(0),L=o(1),C=o(0),X=o(0),Y=o(0),re=o(0),ve=o(0),be=o(0),ce=o(0),q=o(!1),Z=.5,Q=3,ee=.2,Be=B(()=>({transform:`translate(${X.value}px, ${Y.value}px)`})),Ue=B(()=>({transform:`scale(${L.value}) rotate(${C.value}deg)`,transition:q.value?"none":"transform 0.2s ease"})),de=B(()=>!k.value||D.value<=0),ge=B(()=>{var e,i;return!k.value||D.value>=(((i=(e=$.value)==null?void 0:e.orderBasePhoto)==null?void 0:i.length)-1||0)}),Oe=()=>{if(!k.value||de.value)return;const e=D.value-1;D.value=e,pe($.value.orderBasePhoto[e])},Ce=()=>{if(!k.value||ge.value)return;const e=D.value+1;D.value=e,pe($.value.orderBasePhoto[e])},pe=e=>{ma(e)},Re=()=>{ie()},Fe=e=>{e.preventDefault();const i=e.deltaY>0?-.2:ee,n=L.value+i;n>=Z&&n<=Q&&(L.value=n)},Ve=()=>{L.value<Q&&(L.value=Math.min(L.value+ee,Q))},ke=()=>{L.value>Z&&(L.value=Math.max(L.value-ee,Z))},Me=()=>{C.value=(C.value-90)%360},Ae=()=>{C.value=(C.value+90)%360},He=e=>{q.value=!0,re.value=e.clientX,ve.value=e.clientY,be.value=X.value,ce.value=Y.value,document.addEventListener("mousemove",ae),document.addEventListener("mouseup",le),e.preventDefault()},ae=e=>{if(q.value)try{const i=e.clientX-re.value,n=e.clientY-ve.value;X.value=be.value+i,Y.value=ce.value+n}catch{q.value=!1}};async function $e(e,i){i==="modelsId"?u.value.drivingLicenseInfo.otherSeries="":i==="otherSeries"&&(u.value.drivingLicenseInfo.modelsId="")}const le=()=>{try{q.value=!1,document.removeEventListener("mousemove",ae),document.removeEventListener("mouseup",le)}catch(e){console.warn("清理鼠标事件监听器时出错:",e)}},ie=()=>{L.value=1,C.value=0,X.value=0,Y.value=0};return Ke(()=>{var e;return(e=Ee.value)==null?void 0:e.orderPhotoId},()=>{ie()}),Ze(()=>{document.removeEventListener("mousemove",ae),document.removeEventListener("mouseup",le),d.value&&(d.value=!1)}),(e,i)=>{const n=b("el-icon"),_=b("el-row"),x=b("el-form"),j=b("el-scrollbar"),M=b("el-button"),We=b("el-drawer"),Ge=Qe("loading");return H(),ye(We,{modelValue:s(d),"onUpdate:modelValue":i[1]||(i[1]=A=>ba(d)?d.value=A:null),size:"80%",title:"编辑基础信息",onOpen:he,onClose:oe,"body-class":"edit-base-info-drawer-body",class:"edit-base-info-drawer"},{footer:y(()=>[p(M,{onClick:oe},{default:y(()=>[fe("取消")]),_:1}),p(M,{type:"primary",onClick:i[0]||(i[0]=A=>Ne(s(g)))},{default:y(()=>[fe("保存")]),_:1})]),default:y(()=>{var A,me;return[ea((H(),ne("div",wa,[s(k)?(H(),ne("div",Na,[T("div",Da,[T("div",qa,[T("div",{class:ue(["imageWrapper",{dragging:s(q)}]),ref_key:"imageWrapperRef",ref:je,onWheel:aa(Fe,["prevent"])},[T("div",{class:"imageTransformContainer",style:Ie(s(Be))},[T("img",{ref_key:"mainImageRef",ref:qe,src:((A=s(Ee))==null?void 0:A.photoOriginal)||s(Ta),class:"mainImage",style:Ie(s(Ue)),onMousedown:He,onLoad:Re},null,44,ja)],4)],34),T("div",Ba,[T("div",{class:ue(["custom-prev-btn",{disabled:s(de)}]),onClick:Oe},[p(n,null,{default:y(()=>[p(s(la))]),_:1})],2),T("div",{class:ue(["custom-next-btn",{disabled:s(ge)}]),onClick:Ce},[p(n,null,{default:y(()=>[p(s(ia))]),_:1})],2)]),T("div",Ua,_e(s(D)+1)+"/"+_e(((me=s($).orderBasePhoto)==null?void 0:me.length)||0),1),T("div",Oa,[T("div",Ca,[p(n,{onClick:ke,size:38},{default:y(()=>[p(s(na))]),_:1}),p(n,{onClick:Ve,size:38},{default:y(()=>[p(s(ua))]),_:1}),p(n,{onClick:Me,size:38},{default:y(()=>[p(s(sa))]),_:1}),p(n,{onClick:Ae,size:38},{default:y(()=>[p(s(ta))]),_:1})])])])])])):oa("",!0),T("div",Ra,[p(j,null,{default:y(()=>[p(x,{"label-width":"120px",class:"edit-base-info-form",model:s(u),rules:s(E),ref_key:"formRef",ref:g},{default:y(()=>[p(_,null,{default:y(()=>[(H(!0),ne(ha,null,ra(s(t),ze=>(H(),ye(va(s(c)({sectionKey:ze,formData:s(u),showFormItemList:s(f),formContext:s(K),formHandlers:F,isFormItemVisible:N})),{key:ze}))),128))]),_:1})]),_:1},8,["model","rules"])]),_:1})])])),[[Ge,s(v)]])]}),_:1},8,["modelValue"])}}}),$a=Je(Va,[["__scopeId","data-v-2973ad49"]]);export{$a as default};
