import{_ as R,r as u,b as I,d as O,o as _,c as S,S as D,T as H,e as a,x as m,f as y,w as T,F as V,C as N,i as B,H as P,p as Y,q as z}from"./index-CBERRbij.js";import{a as F,S as q}from"./swiper-vue-twutRs6i.js";import"./swiper-LA7WfxAj.js";const x=i=>(Y("data-v-abcc1845"),i=i(),z(),i),A={class:"tabs-info"},M={class:"tabs-info-date"},U=x(()=>a("span",{class:"separator"},"|",-1)),$={class:"tabs-container"},j=["onClick"],G=100,J={__name:"ChassisReportTabs",props:{inspectionDate:{type:String,default:"2025-5-15"},inspectorName:{type:String,default:"周寅"}},emits:["tabChange"],setup(i,{emit:C}){const E=C,l=[{name:"电池壳体及护板",component:null,id:"battery-shell"},{name:"底盘前部",component:null,id:"chassis-front"},{name:"底盘中部",component:null,id:"chassis-middle"},{name:"底盘后部",component:null,id:"chassis-rear"},{name:"底盘实车图片",component:null,id:"chassis-real-car"}],w=u(0),t=u(null);let r=!1,d=0;const p=u(!1);let h=0;const v=e=>{w.value=e,E("tabChange",e)},k=e=>{v(e);const n=l[e].id,s=document.getElementById(n);if(s){r=!0;const o=t.value?t.value.offsetHeight:0,c=s.getBoundingClientRect().top+window.pageYOffset-o;window.scrollTo({top:c,behavior:"smooth"}),setTimeout(()=>{r=!1},500)}},L=(e,n)=>function(){const s=Date.now();s-h>=n&&(h=s,e.apply(this,arguments))},f=()=>{if(r)return;const e=t.value;e&&((window.pageYOffset||document.documentElement.scrollTop)>=d-50?e.classList.contains("sticky")||(e.classList.add("sticky"),p.value=!0):(e.classList.remove("sticky"),p.value=!1)),l.forEach((n,s)=>{const o=document.getElementById(n.id);if(o){const c=t.value?t.value.offsetHeight:0,b=o.getBoundingClientRect();b.top<=c+100&&b.bottom>c&&v(s)}})},g=L(f,G);return I(()=>{t.value&&setTimeout(()=>{const e=t.value.getBoundingClientRect();d=e.top+window.pageYOffset,e.height,f()},300),window.addEventListener("scroll",g),window.addEventListener("resize",()=>{if(t.value){const e=t.value.getBoundingClientRect();d=e.top+window.pageYOffset,e.height,f()}})}),O(()=>{window.removeEventListener("scroll",g),window.removeEventListener("resize",()=>{})}),(e,n)=>(_(),S("div",{class:"chassis-report-tabs",ref_key:"tabsRef",ref:t},[D(a("div",A,[a("div",M,[a("span",null,"检测日期 "+m(i.inspectionDate),1),U,a("span",null,"检测师 "+m(i.inspectorName),1)])],512),[[H,!p.value]]),a("div",$,[y(B(q),{"space-between":20,"slides-per-view":4,breakpoints:{320:{slidesPerView:4,spaceBetween:5},480:{slidesPerView:4,spaceBetween:10},768:{slidesPerView:4,spaceBetween:15},1024:{slidesPerView:4,spaceBetween:20}},class:"tab-swiper"},{default:T(()=>[(_(),S(V,null,N(l,(s,o)=>y(B(F),{key:o,class:"swiper-slide-custom"},{default:T(()=>[a("div",{class:P(["tab-item",{active:w.value===o}]),onClick:c=>k(o)},m(s.name),11,j)]),_:2},1024)),64))]),_:1})])],512))}},X=R(J,[["__scopeId","data-v-abcc1845"]]);export{X as default};
